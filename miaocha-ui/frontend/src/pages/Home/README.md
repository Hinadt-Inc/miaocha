# Homeé¡µé¢æ¨¡å—åŒ–é‡æ„è¯´æ˜

## ğŸ“ æ–‡ä»¶ç»“æ„

```
src/pages/Home/
â”œâ”€â”€ hooks/                          # è‡ªå®šä¹‰hooksæ¨¡å—
â”‚   â”œâ”€â”€ index.ts                    # hookså¯¼å‡ºç´¢å¼•
â”‚   â”œâ”€â”€ useHomePageState.ts         # çŠ¶æ€ç®¡ç†hook
â”‚   â”œâ”€â”€ useDataRequests.ts          # æ•°æ®è¯·æ±‚ç›¸å…³hooks
â”‚   â”œâ”€â”€ useUrlParams.ts             # URLå‚æ•°å¤„ç†hook
â”‚   â”œâ”€â”€ useOAuthCallback.ts         # OAuthå›è°ƒå¤„ç†hook
â”‚   â””â”€â”€ useBusinessLogic.ts         # ä¸šåŠ¡é€»è¾‘å¤„ç†hook
â”œâ”€â”€ types.ts                        # ç±»å‹å®šä¹‰
â”œâ”€â”€ constants.ts                    # å¸¸é‡å®šä¹‰
â”œâ”€â”€ utils.ts                        # å·¥å…·å‡½æ•°ï¼ˆåŸæœ‰ï¼‰
â”œâ”€â”€ index.tsx                       # é‡æ„åçš„ä¸»å…¥å£ç»„ä»¶
â””â”€â”€ README.md                       # æ¨¡å—åŒ–è¯´æ˜æ–‡æ¡£
```

## ğŸ”§ æ¨¡å—åŒ–åŠŸèƒ½è¯´æ˜

### 1. ç±»å‹å®šä¹‰ (`types.ts`)
- ç»Ÿä¸€ç®¡ç†æ‰€æœ‰æ¥å£ç±»å‹å®šä¹‰
- åŒ…å«æœç´¢å‚æ•°ã€å“åº”æ•°æ®ã€ç»„ä»¶Refç­‰ç±»å‹
- ä¾¿äºç±»å‹å¤ç”¨å’Œç»´æŠ¤

### 2. å¸¸é‡å®šä¹‰ (`constants.ts`)
- æå–æ‰€æœ‰é­”æ³•æ•°å­—å’Œå­—ç¬¦ä¸²å¸¸é‡
- åŒ…å«é»˜è®¤å‚æ•°ã€å­˜å‚¨é”®åã€URLå‚æ•°ç­‰
- å¢å¼ºä»£ç å¯è¯»æ€§å’Œç»´æŠ¤æ€§

### 3. çŠ¶æ€ç®¡ç† (`hooks/useHomePageState.ts`)
- é›†ä¸­ç®¡ç†æ‰€æœ‰ç»„ä»¶çŠ¶æ€
- åŒ…å«æ•°æ®çŠ¶æ€ã€é…ç½®çŠ¶æ€ã€åˆå§‹åŒ–çŠ¶æ€ç­‰
- ç»Ÿä¸€ç®¡ç†æ‰€æœ‰refå¼•ç”¨

### 4. æ•°æ®è¯·æ±‚ (`hooks/useDataRequests.ts`)
- å°è£…æ‰€æœ‰APIè¯·æ±‚é€»è¾‘
- åŒ…å«æ¨¡å—åˆ—è¡¨ã€æ—¥å¿—è¯¦æƒ…ã€æ—¶é—´åˆ†å¸ƒã€æ¨¡å—é…ç½®ç­‰è¯·æ±‚
- ç»Ÿä¸€é”™è¯¯å¤„ç†å’Œæ•°æ®æ ¼å¼åŒ–

### 5. URLå‚æ•°å¤„ç† (`hooks/useUrlParams.ts`)
- å¤„ç†åˆ†äº«é“¾æ¥å‚æ•°è§£æ
- ç®¡ç†SessionStorageå‚æ•°æŒä¹…åŒ–
- æ”¯æŒç›¸å¯¹æ—¶é—´èŒƒå›´é‡æ–°è®¡ç®—

### 6. OAuthå›è°ƒ (`hooks/useOAuthCallback.ts`)
- ç‹¬ç«‹å¤„ç†CASç™»å½•å›è°ƒé€»è¾‘
- ç®¡ç†ç™»å½•çŠ¶æ€æ›´æ–°
- æ¸…ç†ç™»å½•ç›¸å…³å‚æ•°

### 7. ä¸šåŠ¡é€»è¾‘ (`hooks/useBusinessLogic.ts`)
- å°è£…å¤æ‚çš„ä¸šåŠ¡é€»è¾‘å¤„ç†
- åŒ…å«åˆ†äº«å‚æ•°åº”ç”¨ã€æ•°æ®è¯·æ±‚é˜²æŠ–ã€æ¨¡å—åˆ‡æ¢ç­‰
- æä¾›å¯å¤ç”¨çš„äº‹ä»¶å¤„ç†å‡½æ•°

## ğŸš€ ä½¿ç”¨æ–¹å¼

### ä¸»ç»„ä»¶
```tsx
// ä½¿ç”¨æ¨¡å—åŒ–çš„Homeç»„ä»¶
import HomePage from './index';
```

### å•ç‹¬ä½¿ç”¨hooks
```tsx
import { useHomePageState, useLogDetails } from './hooks';

const MyComponent = () => {
  const state = useHomePageState();
  const logDetails = useLogDetails(state.moduleQueryConfig);
  
  // ä½¿ç”¨æ¨¡å—åŒ–çš„çŠ¶æ€å’ŒåŠŸèƒ½
  return <div>...</div>;
};
```

## âœ¨ é‡æ„ä¼˜åŠ¿

### 1. **ä»£ç ç»„ç»‡æ¸…æ™°**
- æŒ‰åŠŸèƒ½æ¨¡å—åˆ†ç¦»ä»£ç 
- å•ä¸€èŒè´£åŸåˆ™
- æ˜“äºç†è§£å’Œç»´æŠ¤

### 2. **å¯å¤ç”¨æ€§å¼º**
- ç‹¬ç«‹çš„hookså¯åœ¨å…¶ä»–ç»„ä»¶ä¸­å¤ç”¨
- ç±»å‹å®šä¹‰å’Œå¸¸é‡å¯è·¨ç»„ä»¶å…±äº«
- ä¸šåŠ¡é€»è¾‘è§£è€¦åˆ

### 3. **æµ‹è¯•å‹å¥½**
- æ¯ä¸ªhookå¯ä»¥ç‹¬ç«‹æµ‹è¯•
- ä¸šåŠ¡é€»è¾‘ä¸UIåˆ†ç¦»
- æ˜“äºç¼–å†™å•å…ƒæµ‹è¯•

### 4. **ç»´æŠ¤æ€§å¥½**
- ä¿®æ”¹æŸä¸ªåŠŸèƒ½åªéœ€å…³æ³¨å¯¹åº”æ¨¡å—
- å‡å°‘ä»£ç é‡å¤
- ç»Ÿä¸€çš„é”™è¯¯å¤„ç†å’ŒçŠ¶æ€ç®¡ç†

### 5. **TypeScriptæ”¯æŒ**
- å®Œæ•´çš„ç±»å‹å®šä¹‰
- ç¼–è¯‘æ—¶é”™è¯¯æ£€æŸ¥
- æ›´å¥½çš„IDEæ”¯æŒ

## ğŸ”„ è¿ç§»å®Œæˆ

### âœ… å·²å®Œæˆçš„è¿ç§»
- âœ… åˆ›å»ºäº†å®Œæ•´çš„æ¨¡å—åŒ–æ–‡ä»¶ç»“æ„
- âœ… é‡æ„äº†ä¸»ç»„ä»¶ä½¿ç”¨æ–°çš„hooksæ¶æ„
- âœ… åˆ é™¤äº†æ—§çš„å•ä½“ç»„ä»¶æ–‡ä»¶
- âœ… æ›´æ–°äº†æ–‡æ¡£è¯´æ˜

### ğŸ¯ å½“å‰çŠ¶æ€
- **ä¸»ç»„ä»¶**: `index.tsx` ä½¿ç”¨æ¨¡å—åŒ–æ¶æ„
- **Hooks**: å®Œæ•´çš„hooksæ¨¡å—ç”¨äºçŠ¶æ€ç®¡ç†å’Œä¸šåŠ¡é€»è¾‘
- **ç±»å‹å®‰å…¨**: å®Œæ•´çš„TypeScriptç±»å‹å®šä¹‰
- **ä»£ç ç»„ç»‡**: æŒ‰åŠŸèƒ½æ¨¡å—æ¸…æ™°åˆ†ç¦»

## ğŸ“‹ æœ€ä½³å®è·µ

1. **å¯¼å…¥é¡ºåº**ï¼š
   ```tsx
   // 1. Reactç›¸å…³
   import { useState, useEffect } from 'react';
   
   // 2. ç¬¬ä¸‰æ–¹åº“
   import { Splitter } from 'antd';
   
   // 3. è‡ªå®šä¹‰hooks
   import { useHomePageState, useDataRequests } from './hooks';
   
   // 4. ç±»å‹å’Œå¸¸é‡
   import type { ILogSearchParams } from './types';
   import { createDefaultSearchParams } from './constants';
   
   // ä½¿ç”¨æ—¶è°ƒç”¨å·¥å‚å‡½æ•°
   const defaultParams = createDefaultSearchParams();
   
   // 5. ç»„ä»¶
   import SearchBar from './SearchBar';
   ```

2. **Hookä½¿ç”¨é¡ºåº**ï¼š
   ```tsx
   const MyComponent = () => {
     // 1. çŠ¶æ€ç®¡ç†
     const state = useHomePageState();
     
     // 2. å‰¯ä½œç”¨å¤„ç†
     useOAuthCallback();
     const { cleanupUrlParams } = useUrlParams(/*...*/);
     
     // 3. æ•°æ®è¯·æ±‚
     const modulesList = useModulesList();
     const getDetailData = useLogDetails(state.moduleQueryConfig);
     
     // 4. ä¸šåŠ¡é€»è¾‘
     const { handleSelectedModuleChange } = useBusinessLogic(/*...*/);
     
     // 5. ç»„ä»¶é€»è¾‘
     // ...
   };
   ```

3. **é”™è¯¯å¤„ç†**ï¼š
   - æ¯ä¸ªhookå†…éƒ¨å¤„ç†è‡ªå·±çš„é”™è¯¯
   - ç»Ÿä¸€çš„é”™è¯¯æ—¥å¿—æ ¼å¼
   - ä¼˜é›…çš„é™çº§å¤„ç†

4. **æ€§èƒ½ä¼˜åŒ–**ï¼š
   - ä½¿ç”¨useMemoä¼˜åŒ–propsè®¡ç®—
   - ä½¿ç”¨useCallbackç¨³å®šå‡½æ•°å¼•ç”¨
   - é¿å…ä¸å¿…è¦çš„é‡æ–°æ¸²æŸ“

## ğŸ” æ³¨æ„äº‹é¡¹

1. **ä¿æŒå…¼å®¹æ€§**ï¼šåŸæœ‰çš„`index.tsx`æ–‡ä»¶å®Œå…¨ä¿æŒä¸å˜ï¼Œç¡®ä¿ç°æœ‰åŠŸèƒ½æ­£å¸¸è¿è¡Œ
2. **ç±»å‹å®‰å…¨**ï¼šæ‰€æœ‰æ–°ä»£ç éƒ½æœ‰å®Œæ•´çš„TypeScriptç±»å‹å®šä¹‰
3. **æ€§èƒ½è€ƒè™‘**ï¼šé‡æ„ä¸ä¼šå½±å“ç°æœ‰æ€§èƒ½ï¼Œéƒ¨åˆ†é€»è¾‘è¿˜è¿›è¡Œäº†ä¼˜åŒ–
4. **æµ‹è¯•è¦†ç›–**ï¼šå»ºè®®ä¸ºæ–°çš„hooksç¼–å†™å•å…ƒæµ‹è¯•
5. **æ–‡æ¡£æ›´æ–°**ï¼šå›¢é˜Ÿæˆå‘˜éœ€è¦äº†è§£æ–°çš„ä»£ç ç»„ç»‡æ–¹å¼
